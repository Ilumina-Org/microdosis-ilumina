import { a as createComponent, r as renderComponent, e as renderScript, f as addAttribute, b as renderTemplate, m as maybeRenderHead } from '../../chunks/astro/server_CQ3Hs6UC.mjs';
import 'kleur/colors';
import { $ as $$AdminLayout } from '../../chunks/AdminLayout_CmNwAmQL.mjs';
import { g as getStock } from '../../chunks/stock_Dxk2z7az.mjs';
/* empty css                                    */
export { renderers } from '../../renderers.mjs';

const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  const products = await getStock();
  const inventoryItems = Object.values(products);
  return renderTemplate`${renderComponent($$result, "AdminLayout", $$AdminLayout, { "title": "Inventario", "data-astro-cid-fmp5dvii": true }, { "default": ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="inventory-header" data-astro-cid-fmp5dvii> <h1 data-astro-cid-fmp5dvii>Gestión de Inventario</h1> <div class="header-actions" data-astro-cid-fmp5dvii> <div class="search-container" data-astro-cid-fmp5dvii> <input type="text" id="searchInput" placeholder="Buscar por SKU o título..." class="search-input" data-astro-cid-fmp5dvii> </div> <a href="/admin/inventory/new" class="btn-primary" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <line x1="12" y1="5" x2="12" y2="19" data-astro-cid-fmp5dvii></line> <line x1="5" y1="12" x2="19" y2="12" data-astro-cid-fmp5dvii></line> </svg>
Añadir Producto
</a> </div> </div> <div class="inventory-container" data-astro-cid-fmp5dvii> ${inventoryItems.length > 0 ? renderTemplate`<div class="inventory-table-container" data-astro-cid-fmp5dvii> <table class="inventory-table" data-astro-cid-fmp5dvii> <thead data-astro-cid-fmp5dvii> <tr data-astro-cid-fmp5dvii> <th data-astro-cid-fmp5dvii>SKU</th> <th data-astro-cid-fmp5dvii>Título</th> <th data-astro-cid-fmp5dvii>Imagen</th> <th data-astro-cid-fmp5dvii>Precio</th> <th data-astro-cid-fmp5dvii>Precio Regular</th> <th data-astro-cid-fmp5dvii>Stock</th> <th data-astro-cid-fmp5dvii>Destacado</th> <th data-astro-cid-fmp5dvii>Tipo</th> <th data-astro-cid-fmp5dvii>Acciones</th> </tr> </thead> <tbody data-astro-cid-fmp5dvii> ${inventoryItems.map((item) => renderTemplate`<tr class="inventory-row"${addAttribute(item.sku, "data-sku")} data-astro-cid-fmp5dvii> <td data-astro-cid-fmp5dvii>${item.sku}</td> <td data-astro-cid-fmp5dvii>${item.title}</td> <td data-astro-cid-fmp5dvii> <img${addAttribute(item.imageUrl, "src")}${addAttribute(item.title, "alt")} class="product-thumbnail" data-astro-cid-fmp5dvii> </td> <td data-astro-cid-fmp5dvii>$${item.price}</td> <td data-astro-cid-fmp5dvii>$${item.regularPrice}</td> <td data-astro-cid-fmp5dvii> <div class="stock-info" data-astro-cid-fmp5dvii> <span${addAttribute(`stock-badge ${item.disponible > 0 ? "in-stock" : "out-of-stock"}`, "class")} data-astro-cid-fmp5dvii> ${item.disponible} disponibles
</span> </div> </td> <td data-astro-cid-fmp5dvii> <span${addAttribute(`featured-badge ${item.featured ? "yes" : "no"}`, "class")} data-astro-cid-fmp5dvii> ${item.featured ? "S\xED" : "No"} </span> </td> <td data-astro-cid-fmp5dvii> <span class="type-badge" data-astro-cid-fmp5dvii> ${item.tipo === "subscription" ? "Suscripci\xF3n" : "Paquete"} </span> </td> <td data-astro-cid-fmp5dvii> <div class="actions" data-astro-cid-fmp5dvii> <a${addAttribute(`/admin/inventory/edit/${item.sku}`, "href")} class="btn-icon edit-btn" title="Editar producto" style="display: inline-flex; align-items: center; padding: 0.5rem; border-radius: 0.375rem; color: #4a5568; transition: all 0.2s; text-decoration: none;" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" data-astro-cid-fmp5dvii></path> <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" data-astro-cid-fmp5dvii></path> </svg> </a> </div> </td> </tr>`)} </tbody> </table> </div>` : renderTemplate`<div class="no-data-message" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" data-astro-cid-fmp5dvii></path> </svg> <p data-astro-cid-fmp5dvii>No hay productos en el inventario</p> </div>`} </div> ` })}  ${renderScript($$result, "/home/lucas/code/work/ayahuasca/microdosis-ilumina/src/pages/admin/inventory/index.astro?astro&type=script&index=0&lang.ts")} <div class="inventory-header" data-astro-cid-fmp5dvii> <h1 data-astro-cid-fmp5dvii>Gestión de Inventario</h1> <div class="controls" data-astro-cid-fmp5dvii> <div class="search-container" data-astro-cid-fmp5dvii> <input type="text" id="searchInput" placeholder="Buscar por SKU o título..." class="search-input" data-astro-cid-fmp5dvii> </div> <select id="filterTipo" class="filter-select" data-astro-cid-fmp5dvii> <option value="" data-astro-cid-fmp5dvii>Todos los tipos</option> <option value="package" data-astro-cid-fmp5dvii>Paquetes</option> <option value="subscription" data-astro-cid-fmp5dvii>Suscripciones</option> </select> <select id="filterStock" class="filter-select" data-astro-cid-fmp5dvii> <option value="" data-astro-cid-fmp5dvii>Todo el stock</option> <option value="instock" data-astro-cid-fmp5dvii>En stock</option> <option value="lowstock" data-astro-cid-fmp5dvii>Stock bajo</option> <option value="outofstock" data-astro-cid-fmp5dvii>Sin stock</option> </select> <button id="refreshBtn" class="refresh-btn" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <polyline points="1 4 1 10 7 10" data-astro-cid-fmp5dvii></polyline> <polyline points="23 20 23 14 17 14" data-astro-cid-fmp5dvii></polyline> <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" data-astro-cid-fmp5dvii></path> </svg>
Actualizar
</button> </div> </div> <div class="inventory-container" data-astro-cid-fmp5dvii> ${inventoryItems.length > 0 ? renderTemplate`<div class="inventory-table-container" data-astro-cid-fmp5dvii> <table class="inventory-table" data-astro-cid-fmp5dvii> <thead data-astro-cid-fmp5dvii> <tr data-astro-cid-fmp5dvii> <th data-astro-cid-fmp5dvii>SKU</th> <th data-astro-cid-fmp5dvii>Título</th> <th data-astro-cid-fmp5dvii>Imagen</th> <th data-astro-cid-fmp5dvii>Precio</th> <th data-astro-cid-fmp5dvii>Precio Regular</th> <th data-astro-cid-fmp5dvii>Stock</th> <th data-astro-cid-fmp5dvii>Destacado</th> <th data-astro-cid-fmp5dvii>Tipo</th> <th data-astro-cid-fmp5dvii>Acciones</th> <th data-astro-cid-fmp5dvii>Título</th> <th data-astro-cid-fmp5dvii>Precio</th> <th data-astro-cid-fmp5dvii>Tipo</th> <th data-astro-cid-fmp5dvii>Disponible</th> <th data-astro-cid-fmp5dvii>Reservado</th> <th data-astro-cid-fmp5dvii>Total</th> <th data-astro-cid-fmp5dvii>Destacado</th> <th data-astro-cid-fmp5dvii>Acciones</th> </tr> </thead> <tbody data-astro-cid-fmp5dvii> ${inventoryItems.map((item) => renderTemplate`<tr class="inventory-row"${addAttribute(item.sku, "data-sku")} data-astro-cid-fmp5dvii> <td data-astro-cid-fmp5dvii>${item.sku}</td> <td data-astro-cid-fmp5dvii>${item.title}</td> <td data-astro-cid-fmp5dvii> <img${addAttribute(item.imageUrl, "src")}${addAttribute(item.title, "alt")} class="product-thumbnail" data-astro-cid-fmp5dvii> </td> <td data-astro-cid-fmp5dvii>$${item.price}</td> <td data-astro-cid-fmp5dvii>$${item.regularPrice}</td> <td data-astro-cid-fmp5dvii> <div class="stock-info" data-astro-cid-fmp5dvii> <span${addAttribute(`stock-badge ${item.disponible > 0 ? "in-stock" : "out-of-stock"}`, "class")} data-astro-cid-fmp5dvii> ${item.disponible} disponibles
</span> </div> </td> <td data-astro-cid-fmp5dvii> <span${addAttribute(`featured-badge ${item.featured ? "yes" : "no"}`, "class")} data-astro-cid-fmp5dvii> ${item.featured ? "S\xED" : "No"} </span> </td> <td data-astro-cid-fmp5dvii> <span class="type-badge" data-astro-cid-fmp5dvii> ${item.tipo === "subscription" ? "Suscripci\xF3n" : "Paquete"} </span> </td> <td data-astro-cid-fmp5dvii> <div class="actions" data-astro-cid-fmp5dvii> <button class="btn-icon edit-btn" title="Editar producto" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" data-astro-cid-fmp5dvii></path> <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" data-astro-cid-fmp5dvii></path> </svg> </button> </div> </td>
data-tipo=${item.tipo}
data-stock-status=${item.disponible === 0 ? "outofstock" : item.disponible < 5 ? "lowstock" : "instock"}
>
<td data-astro-cid-fmp5dvii>${item.sku}</td> <td data-astro-cid-fmp5dvii> <div class="product-image-container" data-astro-cid-fmp5dvii> <img${addAttribute(item.imageUrl || "/images/placeholder-image.png", "src")}${addAttribute(item.title, "alt")} class="product-thumbnail" onerror="this.src='/images/placeholder-image.png'" data-astro-cid-fmp5dvii> </div> </td> <td data-astro-cid-fmp5dvii> <div class="product-title" data-astro-cid-fmp5dvii>${item.title}</div> <div class="product-tier" data-astro-cid-fmp5dvii>Tier ${item.tier}</div> </td> <td data-astro-cid-fmp5dvii> <div class="price-info" data-astro-cid-fmp5dvii> <span class="current-price" data-astro-cid-fmp5dvii>$${item.price.toFixed(2)}</span> ${item.regularPrice > item.price && renderTemplate`<span class="regular-price" data-astro-cid-fmp5dvii>$${item.regularPrice.toFixed(2)}</span>`} </div> </td> <td data-astro-cid-fmp5dvii> <span${addAttribute(`tipo-badge ${item.tipo}`, "class")} data-astro-cid-fmp5dvii> ${item.tipo === "package" ? "Paquete" : "Suscripci\xF3n"} </span> </td> <td${addAttribute(item.disponible === 0 ? "out-of-stock" : item.disponible < 5 ? "low-stock" : "", "class")} data-astro-cid-fmp5dvii> ${item.disponible} </td> <td data-astro-cid-fmp5dvii>${item.reservado}</td> <td data-astro-cid-fmp5dvii>${item.total}</td> <td data-astro-cid-fmp5dvii> <span${addAttribute(`featured-badge ${item.featured ? "yes" : "no"}`, "class")} data-astro-cid-fmp5dvii> ${item.featured ? "S\xED" : "No"} </span> </td> <td data-astro-cid-fmp5dvii> <div class="actions" data-astro-cid-fmp5dvii> <button class="btn-icon view-btn" title="Ver detalles" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" data-astro-cid-fmp5dvii></path> <circle cx="12" cy="12" r="3" data-astro-cid-fmp5dvii></circle> </svg> </button> <button class="btn-icon edit-btn" title="Editar" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" data-astro-cid-fmp5dvii></path> <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" data-astro-cid-fmp5dvii></path> </svg> </button> </div> </td> </tr>`)} </tbody> </table> </div>` : renderTemplate`<div class="no-data-message" data-astro-cid-fmp5dvii> <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-fmp5dvii> <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" data-astro-cid-fmp5dvii></path> <line x1="3" y1="6" x2="21" y2="6" data-astro-cid-fmp5dvii></line> <path d="M16 10a4 4 0 0 1-8 0" data-astro-cid-fmp5dvii></path> </svg> <p data-astro-cid-fmp5dvii>No hay productos en el inventario</p> </div>`} </div> <!-- Modal para ver detalles del producto --> <div id="productModal" class="modal" data-astro-cid-fmp5dvii> <div class="modal-content" data-astro-cid-fmp5dvii> <div class="modal-header" data-astro-cid-fmp5dvii> <h2 data-astro-cid-fmp5dvii>Detalles del Producto</h2> <button class="close-modal" data-astro-cid-fmp5dvii>&times;</button> </div> <div id="productDetails" class="product-details" data-astro-cid-fmp5dvii> <!-- El contenido se llenará dinámicamente --> </div> </div> </div>  ${renderScript($$result, "/home/lucas/code/work/ayahuasca/microdosis-ilumina/src/pages/admin/inventory/index.astro?astro&type=script&index=1&lang.ts")}`;
}, "/home/lucas/code/work/ayahuasca/microdosis-ilumina/src/pages/admin/inventory/index.astro", void 0);

const $$file = "/home/lucas/code/work/ayahuasca/microdosis-ilumina/src/pages/admin/inventory/index.astro";
const $$url = "/admin/inventory";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
    __proto__: null,
    default: $$Index,
    file: $$file,
    url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };

import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.ai7qpRr1.js";function F({sku:t,link:f,imageUrl:l,productTitle:n,productDetail:p,productPrice:h,productDeal:u,tier:g,purchaseType:x,initialStock:m=!0}){const[r,c]=s.useState({canPurchase:m,loading:!0}),y=o=>{switch(o){case 0:return"radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%), radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%)";case 1:return"linear-gradient(-40deg,#dedede,#ffffff 16%,#dedede 21%,#ffffff 24%,#454545 27%,#dedede 36%,#ffffff 45%,#ffffff 60%,#dedede 72%,#ffffff 80%,#dedede 84%,#a1a1a1)";case 2:return"linear-gradient(-72deg, #ca7345, #ffdeca 16%, #ca7345 21%, #ffdeca 24%, #a14521 27%, #ca7345 36%, #ffdeca 45%, #ffdeca 60%, #ca7345 72%, #ffdeca 80%, #ca7345 84%, #732100)";default:return""}},i={width:"fit-content",padding:"1rem",paddingTop:".75rem",paddingBottom:".75rem",background:"#C1DC3A",borderRadius:"10px",border:"none",cursor:"pointer"};s.useEffect(()=>{(async()=>{try{const a=await(await fetch(`/api/check-stock?productId=${t}`)).json();c({canPurchase:a.canPurchase,loading:!1})}catch(d){console.error("Error checking stock:",d),c(a=>({...a,loading:!1}))}})()},[t]);const b=()=>{!r.loading&&r.canPurchase&&(window.location.href=f)};return e.jsx("div",{style:{background:y(g),padding:".5rem",borderRadius:"30px",boxShadow:"0px 15px 40px rgb(0, 0, 0, 0.2)"},children:e.jsxs("div",{style:{backgroundColor:"white",width:"16rem",height:"27rem",maxHeight:"27rem",display:"flex",padding:".75rem",flexDirection:"column",justifyContent:"space-between",borderRadius:"20px"},children:[e.jsx("img",{src:l,alt:n,fetchPriority:"high",width:"100%",height:"55%",style:{objectFit:"contain"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"7px"},children:[e.jsx("h3",{style:{fontSize:"23px",margin:0},children:n}),e.jsx("p",{style:{fontSize:"15px",margin:0},children:p}),e.jsx("p",{style:{fontSize:"30px",margin:0},children:h}),e.jsx("p",{style:{fontSize:"15px",margin:0},children:u})]}),e.jsx("button",{style:{...i,opacity:r.loading?.7:1,cursor:r.canPurchase?"pointer":"not-allowed",backgroundColor:r.canPurchase?i.background:"#ccc"},onClick:b,disabled:r.loading||!r.canPurchase,children:r.loading?"Verificando...":x==="subscription"?"Suscripci√≥n mensual":r.canPurchase?"Comprar ahora":"AGOTADO"})]})]})})}export{F as default};
